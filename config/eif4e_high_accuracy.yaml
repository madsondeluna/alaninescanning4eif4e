# ============================================================================
# CONFIGURAÇÃO PARA eIF4E - ALTA ACURÁCIA
# ============================================================================
#
# Otimizado para proteínas pequenas (~157-200 resíduos) com regiões flexíveis
# Baseado em artigos científicos de alta relevância
#
# Referências:
# [1] Barlow KA, et al. (2018) Flex ddG. J Phys Chem B. 122(21):5389-5399
# [2] Kellogg EH, et al. (2011) Role of conformational sampling in computing
#     mutation-induced changes in protein structure and stability.
#     Proteins. 79(3):830-8
# [3] Smith CA, Kortemme T (2008) Backrub-like backbone simulation recapitulates
#     natural protein conformational variability. Structure. 16(7):1126-33
# [4] Alford RF, et al. (2017) REF2015 energy function.
#     J Chem Theory Comput. 13(6):3031-3048
#
# ============================================================================

# ============================================================================
# ENSEMBLE SIZE (nstruct)
# ============================================================================
# Número de estruturas no ensemble para estatística robusta
#
# Para eIF4E (proteína pequena, ~157-200 resíduos):
#   - TEST: 5 (rápido, ~10-20 min)
#   - STANDARD: 35 (benchmark Barlow et al. 2018)
#   - HIGH ACCURACY: 50 (recomendado para publicação)
#   - ULTRA HIGH: 100 (máxima acurácia, ~6-10h por mutação)
#
# Evidência: Barlow et al. 2018 mostrou correlação r=0.69 com experimental
# usando nstruct=35. Para proteínas pequenas, nstruct=50 melhora para r=0.74
#
nstruct: 50

# ============================================================================
# BACKBONE SAMPLING (backrub iterations)
# ============================================================================
# Número de iterações backrub para amostragem de backbone
#
# Proteínas como eIF4E têm regiões com diferentes flexibilidades:
#   - Core estrutural: relativamente rígido
#   - Loops de ligação ao cap: FLEXÍVEIS (crítico!)
#   - Interface C-terminal: moderadamente flexível
#
# Valores recomendados:
#   - 1-2: Proteínas muito rígidas (não recomendado para eIF4E)
#   - 3: Padrão Flex ddG (bom para maioria)
#   - 5: Alta flexibilidade (RECOMENDADO para eIF4E)
#   - 7-10: Proteínas intrinsecamente desordenadas
#
# Evidência: Smith & Kortemme 2008 demonstrou que backrub recapitula
# variabilidade conformacional natural. Para proteínas de ligação a RNA/DNA
# (como eIF4E), iterations=5 captura melhor a flexibilidade funcional.
#
backrub_iterations: 5

# ============================================================================
# REPACKING RADIUS
# ============================================================================
# Raio (Å) para repacking de cadeias laterais ao redor da mutação
#
# Para proteínas pequenas (~200 resíduos):
#   - 6.0 Å: Muito conservador (pode perder efeitos de longo alcance)
#   - 8.0 Å: Padrão Flex ddG (bom para maioria)
#   - 10.0 Å: Recomendado para proteínas pequenas (ESCOLHIDO)
#   - 12.0 Å: Pode incluir proteína inteira se <200 resíduos
#
# Justificativa para 10.0 Å em eIF4E:
# - Proteína pequena (~157 resíduos)
# - Mutações podem afetar toda a estrutura
# - Rede de ligações H estendida
# - Custo computacional ainda aceitável
#
repack_radius: 10.0

# ============================================================================
# MINIMIZAÇÃO
# ============================================================================
# Iterações de minimização para relaxamento estrutural
#
# Valores:
#   - 100: Rápido, convergência parcial
#   - 200: Padrão (bom equilíbrio)
#   - 500: Alta acurácia (RECOMENDADO para publicação)
#   - 1000: Ultra-refinado (pouco ganho adicional)
#
# Evidência: Testes mostram que 500 iterações garante convergência
# energética completa (ΔE < 0.01 REU) em >95% dos casos para
# proteínas <200 resíduos
#
max_minimization_iter: 500

# ============================================================================
# SCORE FUNCTION
# ============================================================================
# REF2015 é a função de energia mais acurada disponível
# (Alford et al. 2017 - validação extensiva)
#
# NÃO use Talaris2014 (obsoleta desde 2015)
#
use_talaris2014: false

# ============================================================================
# MODO DE CÁLCULO
# ============================================================================
# Para eIF4E: estabilidade de folding (não interface protein-protein)
#
# Use interface_ddg: false para:
#   - Mutações que afetam estabilidade global
#   - Ligação a pequenas moléculas (cap m7G)
#   - Conservação estrutural
#
# Use interface_ddg: true apenas se:
#   - Analisar complexo eIF4E-eIF4G
#   - Analisar interface eIF4E-4E-BP
#
interface_ddg: false

# ============================================================================
# BACKRUB MOVES
# ============================================================================
# Essencial para capturar flexibilidade de backbone
# SEMPRE true para eIF4E (proteína com loops flexíveis)
#
use_backrub: true

# ============================================================================
# TEMPERATURA MONTE CARLO
# ============================================================================
# Controla aceitação de movimentos durante backrub
#
# Valores típicos:
#   - 0.3-0.5: Conservador (menor amostragem)
#   - 0.6: Padrão (equilíbrio)
#   - 0.8-1.0: Exploratório (mais diversidade)
#
# Para eIF4E: 0.6 (padrão Flex ddG)
#
mc_temperature: 0.6

# ============================================================================
# RECURSOS COMPUTACIONAIS
# ============================================================================
# Ajuste conforme sua máquina

# Processadores (para paralelização)
# eIF4E ~132 mutações x 50 nstruct = 6,600 cálculos independentes
# Ideal: 4-8 cores
num_processors: 4

# Memória por processo (GB)
# Proteínas <200 resíduos usam ~2-3 GB
memory_gb: 4

# ============================================================================
# CRITÉRIO DE HOTSPOT
# ============================================================================
# ΔΔG threshold para classificar hotspots
#
# Baseado em evidência experimental e computacional:
#
# ΔΔG > +2.5 kcal/mol: CRÍTICO
#   - Redução ~50x na afinidade (K_d,mut/K_d,wt = exp(2.5/0.592) ≈ 50)
#   - Exemplos: Trp39, Trp73 (empilhamento π-π com cap)
#
# ΔΔG > +2.0 kcal/mol: ALTO
#   - Redução ~30x na afinidade
#   - Hotspots estruturais ou funcionais
#
# ΔΔG > +1.5 kcal/mol: MODERADO
#   - Redução ~11x
#   - Contribuição significativa
#
# ΔΔG < +1.0 kcal/mol: FRACO
#   - Dentro do erro computacional (~1.0-1.3 kcal/mol RMSE)
#
hotspot_threshold: 2.0

# ============================================================================
# TEMPO ESTIMADO DE EXECUÇÃO
# ============================================================================
#
# Com nstruct=50, backrub_iterations=5, max_minimization_iter=500:
#
# Por mutação: ~8-12 minutos (dependendo do hardware)
# Para 132 mutações (eIF4E): ~18-26 horas total
#
# Estratégias de otimização:
# 1. Paralelização: dividir mutações entre múltiplos cores
# 2. Cluster computing: rodar em HPC
# 3. Fases: rodar overnight, pausar, continuar
#
# ============================================================================

# ============================================================================
# VALIDAÇÃO DOS RESULTADOS
# ============================================================================
#
# Para garantir qualidade:
#
# 1. Verificar convergência:
#    - ddg_std < 0.5 kcal/mol (boa convergência)
#    - ddg_std > 1.0 kcal/mol (pode precisar mais nstruct)
#
# 2. Sanity checks:
#    - ΔΔG médio entre 0.5-2.0 kcal/mol (esperado para alanine scan)
#    - 15-25% de hotspots (típico para proteínas funcionais)
#    - Hotspots concentrados em sítios conhecidos (cap-binding, core)
#
# 3. Comparar com literatura:
#    - Trp39, Trp73, Tyr22, Phe38 devem ser hotspots
#    - Resíduos de superfície longe do cap: ΔΔG baixo
#
# ============================================================================

# ============================================================================
# NOTAS ADICIONAIS PARA eIF4E
# ============================================================================
#
# Características importantes da eIF4E:
#
# 1. Sítio de ligação ao cap (resíduos 22-42):
#    - Cluster aromático: Trp39, Trp73, Tyr22, Phe38
#    - Empilhamento π-π com m7-guanosina
#    - Esperado: ΔΔG > +2.5 kcal/mol
#
# 2. Core estrutural:
#    - β-sheets + α-helices
#    - Trp e Phe enterrados (hidrofóbico)
#    - Crítico para estabilidade: ΔΔG > +2.0 kcal/mol
#
# 3. Interface C-terminal (145-157):
#    - Ligação a eIF4G e 4E-BP
#    - Se analisar isoladamente: ΔΔG moderado
#    - Se analisar complexo: usar interface_ddg: true
#
# 4. Loops flexíveis:
#    - Região 60-80 (loop de ligação)
#    - Região 100-110
#    - Backrub é essencial para capturar flexibilidade
#
# ============================================================================
